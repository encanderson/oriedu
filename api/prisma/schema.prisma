generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRESQL_URI")
}



model User {
  id         String   @id @default(uuid())
  user_id    String   @unique
  active     Boolean
  app        String
  code       Int?
  created_at DateTime
  email      String   @unique
  password   String?
  updated_at DateTime
  consents   Json?

  @@map("users")
}

model School {
  id          String   @id @default(uuid())
  cnpj        String   @unique
  register    Int      @unique
  fantasia    String
  logo        String?
  contacts    Json?
  address     Json?
  modalities  String[]
  classes     String[]
  school      Employee[]
  turmas      Class[]
  
  @@map("schools")
}

model Employee {
  id          String   @id @default(uuid())
  user_id     String   @unique
  name        String
  birthday    DateTime?
  gender      String?
  ethnic      String?
  docs        String?
  job         String?
  contacts    String?
  address     String?
  contract    Json?
  qualifications  Json?
  salary      Float?
  bank        String?
  picture     String?
  school_id   String
  school      School   @relation(fields: [school_id], references: [id])

  @@map("employees")
}

model Class {
  id          String   @id @default(uuid())
  modality    String
  class       String
  shift       String
  school_id   String
  school      School   @relation(fields: [school_id], references: [id])

  @@map("classes")
}
