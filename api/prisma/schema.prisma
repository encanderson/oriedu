generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRESQL_URI")
}



model User {
  id         String   @id @default(uuid())
  userId     String   @unique
  active     Boolean
  app        String
  code       Int?
  createdAt  DateTime
  email      String   @unique
  password   String
  updatedAt  DateTime
  consents   Json?

  @@map("users")
}

model Profile {
  id          String   @id @default(uuid())
  userId      String   @unique
  name        String
  job         String?
  picture     String?
  school      School?

  @@map("profiles")
}

model School {
  id          String   @id @default(uuid())
  userId      String   @unique
  cnpj        String
  fantasia    String
  logo        String?
  city        String
  state       String
  contacts    Json?
  address     Json?
  school      Profile? @relation(fields: [userId], references: [userId])
  
  @@map("school")
}
